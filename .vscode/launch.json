{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Server",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/server",
			"cwd": "${workspaceFolder}",
			"env": {
				"GGML_METAL_PATH_RESOURCES": "${workspaceFolder}/third_party/whisper.cpp",
				"GGML_METAL": "1",
				"GGML_METAL_USE_BF16": "1",
				"CGO_CFLAGS": "-I${workspaceFolder}/third_party/whisper.cpp/include -I${workspaceFolder}/third_party/whisper.cpp/ggml/include",
				"CGO_LDFLAGS": "-L${workspaceFolder}/third_party/whisper.cpp/build/src -L${workspaceFolder}/third_party/whisper.cpp/build -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src/ggml-blas -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src/ggml-metal -lwhisper -lggml -lggml-blas -lggml-metal -framework Accelerate -framework Metal -framework MetalKit -framework Foundation"
			}
		},
		{
			"name": "Client",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/client",
			"cwd": "${workspaceFolder}",
			"env": {
				"GGML_METAL_PATH_RESOURCES": "${workspaceFolder}/third_party/whisper.cpp",
				"GGML_METAL": "1",
				"GGML_METAL_USE_BF16": "1",
				"CGO_CFLAGS": "-I${workspaceFolder}/third_party/whisper.cpp/include -I${workspaceFolder}/third_party/whisper.cpp/ggml/include",
				"CGO_LDFLAGS": "-L${workspaceFolder}/third_party/whisper.cpp/build/src -L${workspaceFolder}/third_party/whisper.cpp/build -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src/ggml-blas -L${workspaceFolder}/third_party/whisper.cpp/build/ggml/src/ggml-metal -lwhisper -lggml -lggml-blas -lggml-metal -framework Accelerate -framework Metal -framework MetalKit -framework Foundation"
			}
		}
	]
}